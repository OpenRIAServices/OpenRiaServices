<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <TargetFramework>netstandard2.0</TargetFramework>
        <DefineConstants>$(DefineConstants);SERVERFX;EFCORE</DefineConstants>
        <GenerateRuntimeConfigurationFiles>True</GenerateRuntimeConfigurationFiles>
        <GeneratePackageOnBuild Condition="'$(Configuration)'=='Release'">true</GeneratePackageOnBuild>
        <PackageOutputPath>..\..\..\NuGet\bin\</PackageOutputPath>
    </PropertyGroup>
    <ItemGroup>
        <PackageReference Include="Microsoft.EntityFrameworkCore" Version="3.1.20" />
        <PackageReference Include="Microsoft.EntityFrameworkCore.Relational" Version="3.1.20" />
    </ItemGroup>
    <ItemGroup>
        <Compile Include="..\..\OpenRiaServices.Client\Framework\ExceptionHandlingUtility.cs" Link="ExceptionHandlingUtility.cs" />
        <Compile Include="..\..\OpenRiaServices.EntityFramework\Framework\DbDomainService.cs" Link="DbDomainService.cs" />
        <Compile Include="..\..\OpenRiaServices.EntityFramework\Framework\MetadataPropertyDescriptorWrapper.cs" Link="MetadataPropertyDescriptorWrapper.cs" />
        <Compile Include="..\..\OpenRiaServices.EntityFramework\Framework\TypeDescriptorBase.cs" Link="TypeDescriptorBase.cs" />
        <Compile Update="DbResource.Designer.cs">
            <AutoGen>True</AutoGen>
            <DesignTime>True</DesignTime>
            <DependentUpon>DbResource.resx</DependentUpon>
        </Compile>
        <Compile Update="MetadataResource.Designer.cs">
            <DependentUpon>MetadataResource.resx</DependentUpon>
            <AutoGen>True</AutoGen>
            <DesignTime>True</DesignTime>
        </Compile>
        <Compile Update="ResourceEFCore.Designer.cs">
            <DependentUpon>ResourceEFCore.resx</DependentUpon>
            <AutoGen>True</AutoGen>
            <DesignTime>True</DesignTime>
        </Compile>
    </ItemGroup>
    <ItemGroup>
        <ProjectReference Include="..\..\OpenRiaServices.Server\Framework\OpenRiaServices.Server.csproj" />
    </ItemGroup>
    <ItemGroup>
        <EmbeddedResource Update="DbResource.resx">
            <Generator>ResXFileCodeGenerator</Generator>
            <LastGenOutput>DbResource.Designer.cs</LastGenOutput>
            <SubType>Designer</SubType>
        </EmbeddedResource>
        <EmbeddedResource Update="MetadataResource.resx">
            <Generator>ResXFileCodeGenerator</Generator>
            <LastGenOutput>MetadataResource.Designer.cs</LastGenOutput>
            <CustomToolNamespace>System.Data.Mapping</CustomToolNamespace>
        </EmbeddedResource>
        <EmbeddedResource Update="ResourceEFCore.resx">
            <Generator>ResXFileCodeGenerator</Generator>
            <LastGenOutput>ResourceEFCore.Designer.cs</LastGenOutput>
        </EmbeddedResource>
    </ItemGroup>
</Project>